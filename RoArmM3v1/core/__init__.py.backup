# ============================================
# core/__init__.py
# ============================================
"""
RoArm M3 Core Module
Basis-Controller und Hardware-Kommunikation
"""

# Version Info
__version__ = '3.0.0'
__author__ = 'RoArm Professional Team'

# Standard Imports
from .constants import (
    SERVO_LIMITS,
    HOME_POSITION,
    SCANNER_POSITION,
    PARK_POSITION,
    COMMANDS,
    SPEED_LIMITS,
    SCANNER_SPECS,
    TRAJECTORY_PROFILES,
    DEFAULT_SPEED
)

from .serial_comm import SerialManager

# Try Enhanced Controller first, fallback to standard
try:
    from enhanced.controller import EnhancedController as RoArmController
    from enhanced.controller import EnhancedConfig as RoArmConfig
    ENHANCED_CONTROLLER = True
except ImportError:
    from .controller import RoArmController, RoArmConfig
    ENHANCED_CONTROLLER = False

# Export all
__all__ = [
    # Classes
    'RoArmController',
    'RoArmConfig',
    'SerialManager',
    
    # Constants
    'SERVO_LIMITS',
    'HOME_POSITION',
    'SCANNER_POSITION',
    'PARK_POSITION',
    'COMMANDS',
    'SPEED_LIMITS',
    'SCANNER_SPECS',
    'TRAJECTORY_PROFILES',
    'DEFAULT_SPEED',
    
    # Flags
    'ENHANCED_CONTROLLER'
]

# Initialization message
def init_core():
    """Initialize core module with status message."""
    mode = "Enhanced" if ENHANCED_CONTROLLER else "Standard"
    print(f"âœ… Core module initialized ({mode} Controller)")
    return ENHANCED_CONTROLLER
